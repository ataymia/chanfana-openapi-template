<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>PDF Story Reader - Text to Speech</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö PDF Story Reader</h1>
            <p class="subtitle">Upload your book and let AI read it to you like a storyteller</p>
        </header>

        <div id="upload-section" class="section">
            <div class="upload-area" id="drop-zone">
                <div class="upload-icon">üìñ</div>
                <h2>Drop your PDF here</h2>
                <p>or</p>
                <label for="file-input" class="upload-btn">Choose File</label>
                <input type="file" id="file-input" accept=".pdf" style="display: none; visibility: hidden; position: absolute; left: -9999px;">
                <p class="file-info">Supports PDF files up to 50MB</p>
            </div>
        </div>

        <div id="reader-section" class="section hidden">
            <div class="book-info">
                <span id="book-name" class="book-name"></span>
                <button id="change-book" class="change-book-btn">Change Book</button>
            </div>

            <div class="progress-section">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div class="progress-info">
                    <span id="current-position">Page 1</span>
                    <span id="total-pages">of 0 pages</span>
                </div>
            </div>

            <div class="text-display" id="text-display">
                <p id="current-text">Loading text...</p>
            </div>

            <div class="controls">
                <button id="rewind-btn" class="control-btn" title="Rewind 10 seconds">
                    <span class="control-icon">‚è™</span>
                    <span class="control-label">Rewind</span>
                </button>
                <button id="play-pause-btn" class="control-btn play-btn" title="Play/Pause">
                    <span class="control-icon" id="play-icon">‚ñ∂Ô∏è</span>
                    <span class="control-label" id="play-label">Play</span>
                </button>
                <button id="forward-btn" class="control-btn" title="Fast forward 10 seconds">
                    <span class="control-icon">‚è©</span>
                    <span class="control-label">Forward</span>
                </button>
            </div>

            <div class="settings">
                <div class="setting-group">
                    <label for="speed-control">Speed:</label>
                    <input type="range" id="speed-control" min="0.5" max="2" step="0.1" value="1">
                    <span id="speed-value">1.0x</span>
                </div>
                <div class="setting-group">
                    <label for="voice-select">Narrator Voice:</label>
                    <select id="voice-select"></select>
                </div>
                <div class="setting-group">
                    <label for="dialogue-voice-select">Dialogue Voice:</label>
                    <select id="dialogue-voice-select"></select>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="smart-voices" checked>
                        Smart Voice Changes
                    </label>
                    <span class="tooltip">?
                        <span class="tooltip-text">Automatically changes voices for dialogue and different characters</span>
                    </span>
                </div>
            </div>
        </div>

        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loader"></div>
            <p>Processing your book...</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
